<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Balance de Bitcoin</title>
</head>

<body class="p-4">
    <h1 class="text-3xl font-bold underline my-4 text-center">
        Balance de Bitcoin
    </h1>

    <h2 class="text-2xl font-semibold my-3">
        Añadir Nuevo Balance
    </h2>

    <p>Introduce la fecha y la cantidad de Bitcoin que tienes en ese momento para añadir un nuevo balance.</p>

    <form hx-post="http://127.0.0.1:3003/api/balance" hx-target="#balance-list" hx-swap="beforeend" class="flex flex-col max-w-md mx-auto my-4">
        <label for="date" class="font-medium">Fecha:</label>
        <input type="date" id="date" name="date" required class="border-2 border-gray-200 p-2 rounded-lg my-2">

        <label for="amount" class="font-medium">Cantidad:</label>
        <input type="number" id="amount" name="amount" step="0.000000001" required class="border-2 border-gray-200 p-2 rounded-lg my-2">

        <button type="submit" class="bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700 transition duration-300">
            Añadir Balance
        </button>
    </form>

    <h2 class="text-2xl font-semibold my-3">
        Historial de Balance
    </h2>
    <ul id="balance-list" hx-get="http://127.0.0.1:3003/api/balance" hx-trigger="load" class="list-disc pl-5">
        <!-- Los balances se cargarán aquí automáticamente al cargar la página -->
    </ul>

    <h2 class="text-2xl font-semibold my-3">
        Precio actual de Bitcoin
    </h2>
    <div id="bitcoin-price" hx-get="http://127.0.0.1:3003/api/bitcoinPrice" hx-trigger="load" style="word-break: break-all;" class="p-4 border-2 border-gray-200 rounded-lg my-4">
        <!-- El precio de Bitcoin se cargará aquí automáticamente al cargar la página -->
    </div>

    <h2 class="text-2xl font-semibold my-3">
        Reset base de datos
    </h2>
    <button hx-delete="http://127.0.0.1:3003/api/reset" hx-confirm="¿Estás seguro de que quieres resetear la base de datos?" hx-target="body" hx-swap="outerHTML" class="mt-4 bg-red-500 text-white font-bold py-2 px-4 rounded hover:bg-red-700 transition duration-300">
        Resetear Base de Datos
    </button>

</body>
</html>